
import React, {useEffect, useState} from 'react';
import { useHistory ,useParams } from 'react-router-dom';
import styled from 'styled-components'

// Q ì €ë²ˆì‹œê°„ ìˆ™ì œ : Detail í˜ì´ì§€ ë°©ë¬¸ í›„ 2ì´ˆ í›„ì— alert ë°•ìŠ¤ê°€ ì‚¬ë¼ì§€ê²Œ í•˜ê¸°

// (1) UIë§Œë“¤ê¸°
// 1. UI ë³´ì´ê³  ì•ˆë³´ì´ê³ ì˜ ìƒíƒœë¥¼ stateë¡œ ì €ì¥í•´ë‘  (true/false ì´ëŸ°ê±¸ë¡œ)
// 2. stateê°€ trueì¼ ë•Œë§Œ UIë¥¼ ë³´ì—¬ì¤€ë‹¤ê³  ifë¬¸ì„ ì§œë‘  
//  stateë¥¼ ë§Œë“¤ê³  stateì— ì˜í•´ì„œ UIë¥¼ ë³´ì—¬ì£¼ë„ë¡ ifë¬¸ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.

// (2) Q: Detail í˜ì´ì§€ ë°©ë¬¸ í›„ 2ì´ˆ í›„ì— alert ë°•ìŠ¤ê°€ ì‚¬ë¼ì§€ê²Œ í•˜ê¸°
//  Detail ì»´í¬ë„ŒíŠ¸ ë¡œë“œ í›„ 2ì´ˆ í›„ì— alertë¼ëŠ” stateë¥¼ falseë¡œ ë§Œë“¤ì–´ì£¼ë©´ ë¨
// useEffect ì•ˆì— 2ì´ˆ íƒ€ì´ë¨¸ë¥¼ ì¶”ê°€í–ˆê³  2ì´ˆ í›„ì— alert ë¼ëŠ” stateë¥¼ falseë¡œ ë³€ê²½

// (2)-2
// B: Detail ì»´í¬ë„ŒíŠ¸ê°€ mountë¿ë§Œì´ ì•„ë‹ˆë¼, ì—…ë°ì´íŠ¸(ì¬ëœë”ë§)ë  ë•Œë„ ì € useEffect ê³„ì† ì‹¤í–‰ë¨
// ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸ì‹œ ì§„ì§œ ì‹¤í–‰ë˜ëŠ”ì§€ ì‹¤í—˜í•´ë³´ë„ë¡ í•©ì‹œë‹¤.
// (ì‹¤í—˜ì„ ìœ„í•œ... ì½”ë”© ì¶”ê°€)
// <input> íƒœê·¸
//  inputDataë¼ëŠ” state
//  { inputData }ë°ì´í„°ë°”ì¸ë”©

// (2)-3
// <input>ì—ë‹¤ê°€ ë­”ê°€ ì…ë ¥í•˜ë©´ ê³„ì† Detail ì»´í¬ë„ŒíŠ¸ê°€ ì¬ë Œë”ë§ë©ë‹ˆë‹¤. (ì—…ë°ì´íŠ¸ë¨)
// ê·¸ëŸ¼ <input>ì—ë‹¤ê°€ ë­”ê°€ ì…ë ¥í•  ë•Œë§ˆë‹¤ useEffect() ì´ê²ƒë„ ì‹¤í–‰ë˜ê² ì£ ?
// ê·¼ë° useEffect()ë„ ì‹¤í–‰ë˜ë©´ ì•ˆë  ê²ƒ ê°™ì£ ? ë§ìŠµë‹ˆë‹¤. ì´ê±´ ìì›ë‚­ë¹„ì…ë‹ˆë‹¤.

// (3) 
// useEffect() í•¨ìˆ˜ ëë¶€ë¶„ì— ëŒ€ê´„í˜¸[]  ì—¬ê¸°ì—ëŠ” stateë¥¼ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

// 1. Detailì»´í¬ë„ŒíŠ¸ ë¡œë“œê°€ ë  ë•Œ & 
// 2. alertë¼ëŠ” stateê°€ ë³€ê²½ì´ ë  ë•Œë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤.

// ì²« mountë•Œë§Œ ì‹¤í–‰ í›„ , ì—…ë°ì´íŠ¸ë•ŒëŠ” ì‹¤í–‰ ì•ˆí•¨ , ì˜¤ì§ [ ] ì•ˆì˜ stateê°€ ë³€ê²½ëœë•Œë§Œ ì‹¤í–‰


// (3)-2 stateê°€ ìœ„ì—ì„œ ë¨¼ì € ì„ ì–¸ë˜ì–´ì•¼ í•¨

// (3)-3 ëŒ€ê´„í˜¸ ì•ˆì— stateëŠ” ì½¤ë§ˆë¡œ ì—¬ëŸ¬ê°œ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤

//(3)-4  [ ]ì•ˆì— ë¹ˆì¹¸
// ê·¸ëŸ¼ ì´ì œ ì´ useEffect() ì½”ë“œëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì—…ë°ì´íŠ¸ ë  ë•Œ ì ˆëŒ€ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
// ê·¸ëƒ¥ ì»´í¬ë„ŒíŠ¸ mountë•Œ í•œë²ˆ ë”± ì‹¤í–‰í•˜ê³  ì‹¶ì€ ì½”ë“œë¥¼ ë‹´ì„ ë•Œ ì“¸ ìˆ˜ ìˆëŠ” ì¼ì¢…ì˜ íŠ¸ë¦­ì‡¼ì…ë‹ˆë‹¤.


// (4) setTimeout ì£¼ì˜ì 
// setTimeout íƒ€ì´ë¨¸ë¥¼ ì“°ì…¨ìœ¼ë©´ íƒ€ì´ë¨¸í•´ì œë„ í•´ì•¼í•©ë‹ˆë‹¤. 

// ë°©ê¸ˆ Detail ë°©ë¬¸ì‹œ 2ì´ˆ í›„ì— UI ì‚¬ë¼ì§€ê²Œ í•´ì£¼ì„¸ìš”~ ë¼ê³  ì½”ë“œë¥¼ ì§°ìŠµë‹ˆë‹¤.
// ê·¼ë° 2ì´ˆê°€ ë˜ê¸°ë„ ì „ì— Detailì„ ë²—ì–´ë‚˜ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?
// ì§€ê¸ˆì€ ë³„ ë¬¸ì œì—†ëŠ” ê²ƒ ê°™ì§€ë§Œ ì½”ë“œê°€ ê¸¸ì–´ì§€ê±°ë‚˜ ê¼¬ì´ë©´,
// ë‚¨ì•„ìˆëŠ” íƒ€ì´ë¨¸ ë•Œë¬¸ì— ì´ìƒí•œ í˜„ìƒì´ ì¼ì–´ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
// ê·¸ë˜ì„œ ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì§ˆ ë•Œ íƒ€ì´ë¨¸ë¥¼ ì—†ì• ëŠ” ì½”ë“œë„ ì¶”ê°€í•´ì£¼ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤.

// (4)-2
// useEffectì•ˆì—ëŠ” return + í•¨ìˆ˜ë¥¼ ì¶”ê°€í•˜ë©´,  ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì§ˆ ë•Œ íŠ¹ì • ì½”ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ê³  í–ˆìŠµë‹ˆë‹¤.

// ê±°ê¸°ì— clearTimeoutì„ ì¶”ê°€í•œê²ë‹ˆë‹¤.
// clearTimeout(íƒ€ì´ë¨¸ì´ë¦„)
// ì´ë ‡ê²Œ ì“°ì‹œë©´ íƒ€ì´ë¨¸ë¥¼ ë°”ë¡œ í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


{/*  24  
ğŸš€UIë§Œë“¤ê¸°

1. UI ë³´ì´ê³ /ì•ˆë³´ì´ê³  ìƒíƒœ... stateë¡œ ì €ì¥

2. ifë¬¸ìœ¼ë¡œ stateê°€ trueì¼ë•Œ ë³´ì—¬ì¤Œ

3. setStateê°’ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ ì„¤ì • (ex.  button ,  setTimeout)

*/}




function Detail25_file(props){

    {/*  24 -1 */}
    // (1)-1 (3-2)
    let [ alert, alertë³€ê²½ ] = useState(true);

   // (2)-2
    let [inputData,inputDataë³€ê²½]=useState('');

    {/*  24-3 */}
    useEffect(()=>{ 
    // (1)-2 (2)
            let íƒ€ì´ë¨¸ = setTimeout(() => {alertë³€ê²½(false)}, 2000);  
     // (2)-3
        console.log('ì—…ë°ì´íŠ¸(ì¬ëœë”ë§)ë  ë•Œë„ ì € useEffect ê³„ì† ì‹¤í–‰ë¨');} );
        
     // (3)
    useEffect(()=>{  
            let íƒ€ì´ë¨¸ = setTimeout(() => {alertë³€ê²½(false)}, 2000);     
        console.log('ì—…ë°ì´íŠ¸(ì¬ëœë”ë§)ë  ë•Œë„ ì € useEffect ê³„ì† ì‹¤í–‰ë¨');} 
        // (3)-3
        ,[alert,inputData]);

    useEffect(()=>{  
          let íƒ€ì´ë¨¸ = setTimeout(() => {alertë³€ê²½(false)}, 2000);     
    console.log('ì—…ë°ì´íŠ¸(ì¬ëœë”ë§)ë  ë•Œë„ ì € useEffect ê³„ì† ì‹¤í–‰ë¨');} 
      // (3)-4
        ,[ ]);

    useEffect(()=>{  
            let íƒ€ì´ë¨¸ = setTimeout(() => {alertë³€ê²½(false)}, 2000);     
    console.log('ì—…ë°ì´íŠ¸(ì¬ëœë”ë§)ë  ë•Œë„ ì € useEffect ê³„ì† ì‹¤í–‰ë¨');

    // (4)-2
    return ()=>{ clearTimeout(íƒ€ì´ë¨¸)}   }  ,[ ]);

    return(  
     <div>      
        <div className="my-alert">
            <p>  my-alert </p>      
        </div>

            {/*  24-2*/}
         //(1)-2 ifë¬¸
        {
            alert === true
            ? (<div className="my-alert2">
                <p>í˜ì´ì§€ ë°©ë¬¸ í›„ 2ì´ˆ í›„ì— alert ë°•ìŠ¤ê°€ ì‚¬ë¼ì§€ê²Œ í•´ë³´ì‹­ì‹œì˜¤</p>
              </div>)
            : null
          }

        {/*  24-3  */}
        <button onClick={()=>{ alertë³€ê²½(true) }}>show</button>
        <button onClick={()=>{ alertë³€ê²½(false) }}>hide</button>
              
     //(2-2)
         <input onChange={(e)=>{inputDataë³€ê²½(e.target.value)}} />

          {inputData}
    </div> 
    )
  }

export default Detail25_file;